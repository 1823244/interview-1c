
Почему нельзя использовать вычисляемое выражение в условии?

ТекстЗапроса = "
|
|ГДЕ
|   ЗаказПокупателя.Дата МЕЖДУ &НАЧАЛОПЕРИОДА(&Дата1, ДЕНЬ) И &НАЧАЛОПЕРИОДА(&Дата2, ДЕНЬ)
|
|";

Потому что после применения функции к колонке, предикат становится non-SARGable.  
Т.е. индекс по ней не может быть использован.  
Итог: план запроса будет содержать table/index scan, вместо возможного index seek.  

Предикат - это "утверждение", например, условие фильтрации из секции WHERE.  

Про SARGable: Короткевич, Pro SQL Server Internals, 2nd edition, page 42.  
SARGable predicates - это концепция в реляционных базах, которая заявляет, что предикат является  
SARG-able (Search ARGument Able), когда SQL Server может использовать операцию  
index seek, если индекс существует.  

При вызове функции SQL Server вынужден применить ее к каждой строке объекта (таблицы), т.к. в общем случае функция меняет содержимое колонки и на индекс положиться уже нельзя.  
